{"version":3,"sources":["divScrollBar.es6"],"names":[],"mappings":"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","file":"divScrollBar-compiled.js","sourcesContent":["\n//div 生成模拟的滚动条\n\n//new DEVICE.divScrollBar({\n//    id:\"test1\",               //div的id\n//    background:\"#ececec\",     //滚动条的背景色\n//    color:\"#333\",             //滚动条颜色\n//    scrollBarWidth:12,        //滚动巢的宽度\n//    checkDomResizeTime:500,    //检查dom变化的时间\\\n//    scrollAnimateLength:30,     //window系统下滚动条每次滚动的距离\n//    animateTime:400           //每次滚动的时间\n//});\n\n\n\n\n\nDEVICE.divScrollBar = class divScrollBar{\n    constructor(opt){\n        this.id = opt.id;\n        this.background = opt.background || \"#ececec\";\n        this.color = opt.color || \"#333\";\n        this.scrollBarWidth = opt.scrollBarWidth || 12;\n        this.checkDomResizeTime = opt.checkDomResizeTime || 500;\n        this.scrollAnimateLength = opt.scrollAnimateLength || 30;\n        this.animateTime = opt.animateTime || 400;\n\n        //PARAM\n        this.scrollTop = 0;\n        this.scrollLeft = 0;\n        this.maxScrollTop = 0;\n        this.maxScrollLeft = 0;\n        this.scrollXLength = 0;\n        this.scrollYLength = 0;\n\n        this.hasMouseDownX = false;\n        this.hasMouseDownY = false;\n        this.startMousePointX = 0;\n        this.startMousePointY = 0;\n\n        this.htmlWidth = 0;\n        this.htmlHeight = 0;\n        this.bodyWidth = 0;\n        this.bodyHeight = 0;\n\n        this.isShowScrollX = false;\n        this.isShowScrollY = false;\n\n        this.intervalFn = null;\n        this.animateFn = null;\n\n        //DOM\n        this.dom = $(\"#\"+this.id);\n        this.html = null;\n        this.body = null;\n        this.scrollBarX = null;\n        this.scrollerX = null;\n        this.scrollBarY = null;\n        this.scrollerY = null;\n\n\n\n\n        this._init();\n    }\n\n    _init(){\n        this._createDom();\n        this._createScrollY();\n        this._createScrollX();\n        this._refresh();\n        this._addEventListener();\n\n\n    }\n\n    _createDom(){\n        this.dom.css({\n            position:\"relative\"\n        });\n\n        let div = $(\"<div></div>\"),\n            div1 = $(\"<div></div>\");\n\n        div.css({\n            position:\"absolute\",\n            //background:\"red\",\n            left:0,top:0,right:0,bottom:0,\n            overflow:\"hidden\"\n        });\n        div1.css({\n            display:\"inline-block\"\n        });\n\n        let children = this.dom.children();\n        div.append(div1);\n        div1.append(children);\n        this.dom.append(div);\n\n        this.html = div;\n        this.body = div1;\n    }\n\n    _createScrollY(){\n        let div = $(\"<div></div>\"),\n            div1 = $(\"<div></div>\");\n\n        div.append(div1);\n        this.dom.append(div);\n\n        this.scrollBarY = div;\n        this.scrollerY = div1;\n\n        div.css({\n            position:\"absolute\",\n            top:0,\n            right:0,\n            width:this.scrollBarWidth+\"px\",\n            bottom:0,\n            background:this.background,\n            display:\"none\",\n            cursor:\"default\"\n        });\n\n        div1.css3({\n            position:\"absolute\",\n            left:\"20%\",\n            top:0,\n            width:\"60%\",\n            height:\"20px\",\n            background:this.color,\n            \"border-radius\":this.scrollBarWidth+\"px\",\n            \"font-size\":0,\n            \"-webkit-text-size-adjust\":\"none\",\n            cursor:\"default\"\n        });\n    }\n\n    _createScrollX(){\n        let div = $(\"<div></div>\"),\n            div1 = $(\"<div></div>\");\n\n        div.append(div1);\n        this.dom.append(div);\n\n        this.scrollBarX = div;\n        this.scrollerX = div1;\n\n        div.css({\n            position:\"absolute\",\n            right:0,\n            left:0,\n            height:this.scrollBarWidth+\"px\",\n            bottom:0,\n            background:this.background,\n            display:\"none\",\n            cursor:\"default\"\n        });\n\n        div1.css3({\n            position:\"absolute\",\n            left:0,\n            top:\"20%\",\n            width:\"20px\",\n            height:\"60%\",\n            background:this.color,\n            \"border-radius\":this.scrollBarWidth+\"px\",\n            cursor:\"default\"\n        });\n    }\n\n    _refresh(){\n        this.htmlWidth = parseInt(this.html.outerWidth());\n        this.htmlHeight = parseInt(this.html.outerHeight());\n        this.bodyWidth = parseInt(this.body.width());\n        this.bodyHeight = parseInt(this.body.height());\n\n        this._hideScrollBar();\n\n        //判断是否显示滚动条\n        if(this.bodyWidth > this.htmlWidth){\n            //横向有滚动条\n            this.htmlHeight = this.htmlHeight - this.scrollBarWidth;\n            this._showScrollBar(\"x\");\n            if(this.bodyHeight > this.htmlHeight){\n                //纵向有滚动条\n                this.htmlWidth = this.htmlWidth - this.scrollBarWidth;\n                this._showScrollBar(\"y\");\n            }\n        }else{\n            if(this.bodyHeight > this.htmlHeight){\n                //纵向有滚动条\n                this.htmlWidth = this.htmlWidth - this.scrollBarWidth;\n                this._showScrollBar(\"y\");\n                this.bodyWidth = parseInt(this.body.width());\n                if(this.bodyWidth > this.htmlWidth){\n                    //横向有滚动条\n                    this.htmlHeight = this.htmlHeight - this.scrollBarWidth;\n                    this._showScrollBar(\"x\");\n                }\n            }\n        }\n\n\n        //最大滚动距离\n        this.maxScrollTop = this.bodyHeight - this.htmlHeight;\n        this.maxScrollLeft = this.bodyWidth - this.htmlWidth;\n\n        //滚动条自身长度\n        this.scrollXLength = this.htmlWidth*this.htmlWidth/this.bodyWidth;\n        this.scrollYLength = this.htmlHeight*this.htmlHeight/this.bodyHeight;\n        this.scrollerX.css({width:this.scrollXLength+\"px\"});\n        this.scrollerY.css({height:this.scrollYLength+\"px\"});\n    }\n\n    _showScrollBar(type){\n        if(type == \"x\"){\n            this.html.css({\"padding-bottom\":this.scrollBarWidth+\"px\"});\n            this.scrollBarX.css({display:\"block\"});\n            this.isShowScrollX = true;\n        }else{\n            this.html.css({\"padding-right\":this.scrollBarWidth+\"px\"});\n            this.scrollBarY.css({display:\"block\"});\n            this.isShowScrollY = true;\n        }\n    }\n\n    _hideScrollBar(){\n        this.html.css({padding:0});\n        this.scrollBarX.css({display:\"none\"});\n        this.scrollBarY.css({display:\"none\"});\n        this.isShowScrollX = false;\n        this.isShowScrollY = false;\n    }\n\n    _addEventListener(){\n        //鼠标滚轮事件\n        this.dom.mousewheel((e)=>{\n            e.preventDefault();\n            let {deltaX,deltaY} = e;\n\n            if(DEVICE.isMac){\n                this.move(-deltaX,deltaY);\n                return;\n            }\n\n            //window系统无法获取滚动的实际距离，只有动画模拟\n            deltaX = (deltaX>0)? this.scrollAnimateLength : (deltaX<0)? -this.scrollAnimateLength :0 ;\n            deltaY = (deltaY>0)? this.scrollAnimateLength : (deltaY<0)? -this.scrollAnimateLength :0 ;\n\n            this.scrollAnimate(-deltaX,deltaY);\n        });\n\n\n        //滚动条点击事件\n        this.scrollerX.get(0).addEventListener(\"mousedown\",e=>{\n            e.stopPropagation();\n            e.preventDefault();\n            this._mouseDown(\"x\",e);\n        },false);\n        this.scrollerY.get(0).addEventListener(\"mousedown\",e=>{\n            e.stopPropagation();\n            e.preventDefault();\n            this._mouseDown(\"y\",e);\n        },false);\n        document.body.addEventListener(\"mousemove\",e=>{\n            this._mouseMove(e);\n        },false);\n        document.body.addEventListener(\"mouseup\",e=>{\n            this._mouseUp();\n        },false);\n        this.scrollerX.get(0).addEventListener(\"click\",e=>{\n            e.stopPropagation();\n            e.preventDefault();\n        },false);\n        this.scrollerY.get(0).addEventListener(\"click\",e=>{\n            e.stopPropagation();\n            e.preventDefault();\n        },false);\n\n\n\n        //滚动巢事件\n        this.scrollBarX.get(0).addEventListener(\"click\",e=>{\n            this._scrollBarClick(\"x\",e);\n        },false);\n        this.scrollBarY.get(0).addEventListener(\"click\",e=>{\n            this._scrollBarClick(\"y\",e);\n        },false);\n\n\n        //检查容器大小是否变化\n        this.intervalFn = setInterval(()=>{\n            this._checkDomResize();\n        },this.checkDomResizeTime)\n\n    }\n\n    scrollAnimate(x,y){\n        if(this.animateFn){\n            this.animateFn.stop();\n        }\n        var _this = this;\n\n        this.animateFn = new DEVICE.jsAnimate({\n            start:0,                  //@param:number   初始位置\n            end:1,                    //@param:number   结束位置\n            time:this.animateTime,                 //@param:number   动画执行时间  ms\n            type:\"Cubic\",             //@param:str      tween动画类别,默认：Linear 详见函数内tween函数\n            class:\"easeOut\",           //@param:str      tween动画方式,默认：easeIn 详见函数内tween函数\n            stepFn:function(val){     //@param:fn       每步执行函数,返回当前属性值\n                _this.move(val*x,val*y);\n            },\n            endFn:function(){         //@param:fn       动画结束执行\n\n            },\n            alternate:false,          //@param:boolean  动画结束时是否反向运行，默认：false\n            infinite:false            //@param:boolean  动画是否循环执行，默认：false\n            //设置该参数endFn将失效\n        });\n        this.animateFn.play();\n\n\n        //this.move(x,y);\n    }\n\n    move(x,y){\n        let {abs} = Math;\n\n        if(this.isShowScrollY && y!=0){\n            this.scrollTop += y;\n            this.scrollTop = DEVICE.getBetweenNumber(this.scrollTop,-this.maxScrollTop,0);\n            //移动滚动条\n            let top = abs(this.scrollTop)/this.maxScrollTop*(this.htmlHeight-this.scrollYLength);\n            this.scrollerY.css3({\n                transform:\"translateY(\"+top+\"px)\"\n            })\n        }\n\n        if(this.isShowScrollX && x!=0){\n            this.scrollLeft += x;\n            this.scrollLeft = DEVICE.getBetweenNumber(this.scrollLeft,-this.maxScrollLeft,0);\n            //移动滚动条\n            let left = abs(this.scrollLeft)/this.maxScrollLeft*(this.htmlWidth-this.scrollXLength);\n            this.scrollerX.css3({\n                transform:\"translateX(\"+left+\"px)\"\n            });\n        }\n\n\n\n        //移动dom\n        this.body.css3({\n            transform:\"translateY(\"+this.scrollTop+\"px) translateX(\"+this.scrollLeft+\"px)\"\n        });\n\n\n    }\n\n    _mouseDown(type,e){\n        if(type == \"y\"){\n            this.hasMouseDownY = true;\n            this.startMousePointY = e.clientY;\n        }\n\n        if(type == \"x\"){\n            this.hasMouseDownX = true;\n            this.startMousePointX = e.clientX;\n        }\n\n    }\n\n    _mouseMove(e){\n        if(this.hasMouseDownY){\n            let y = e.clientY,\n                len = y - this.startMousePointY;\n            this.startMousePointY = y;\n            len = this.maxScrollTop*len/(this.htmlHeight - this.scrollYLength);\n\n            this.move(0,-len);\n        }\n\n        if(this.hasMouseDownX){\n            let x = e.clientX,\n                len = x - this.startMousePointX;\n            this.startMousePointX = x;\n            len = this.maxScrollLeft*len/(this.htmlWidth - this.scrollXLength);\n\n            this.move(-len,0);\n        }\n    }\n\n    _mouseUp(){\n        this.hasMouseDownX = false;\n        this.hasMouseDownY = false;\n\n    }\n\n    _scrollBarClick(type,e){\n        let {abs} = Math;\n\n        if(type == \"y\"){\n            let p = e.clientY - this.scrollBarY.offset().top,\n                y = abs(this.scrollTop)/this.maxScrollTop*(this.htmlHeight-this.scrollYLength),\n                max_y = y + this.scrollYLength;\n\n            if(p < y){\n                //点的滚动条上面的滚动巢\n                this.move(0,this.htmlHeight)\n            }else if( p > max_y ){\n                //点的滚动条下面的滚动巢\n                this.move(0,-this.htmlHeight)\n            }\n\n        }\n\n        if(type == \"x\"){\n            let p = e.clientX - this.scrollBarX.offset().left,\n                x = abs(this.scrollLeft)/this.maxScrollLeft*(this.htmlWidth-this.scrollXLength),\n                max_x = x + this.scrollXLength;\n\n            if(p < x){\n                //点的滚动条上面的滚动巢\n                this.move(this.htmlWidth,0);\n            }else if( p > max_x ){\n                //点的滚动条下面的滚动巢\n                this.move(-this.htmlWidth,0);\n            }\n\n        }\n    }\n\n    _checkDomResize(){\n        let height = parseInt(this.html.outerHeight()),\n            width = parseInt(this.html.outerWidth);\n\n        if(height != this.htmlHeight || width != this.htmlWidth){\n            this._refresh();\n        }\n\n    }\n\n\n};\n\n\nvar c;\n$(document).ready(function(){\n    c = new DEVICE.divScrollBar({id:\"test1\"});\n\n});\n"]}