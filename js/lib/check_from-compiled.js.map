{"version":3,"sources":["check_from.es6"],"names":[],"mappings":"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","file":"check_from-compiled.js","sourcesContent":["\n\n//正则验证dom中的input，会自动去掉输入的字符串2头的空格\n//规则：   设置在input上   data-rule=\"min:1,max:10,must\"\n\n//max:10    最多10个字符\n//min:1     最少1个字符\n//must      必填项目\n//str       字符串   字符串，数字和下划线\n//number    正整数\n//price     价格带2位小数\n//qq        qq号  5位以上\n//email     邮箱\n//phone     手机号\n//idCard    身份证\n//chinese   中文\n//nickname  中文、英文、数字、下划线\n\n\n//验证时执行\n//$(\"#form\").checkFrom(function(errorDom,data){})\n\n//errorDom  @param:array   验证未通过的input   数组中包含jq对象\n//data      @param:json    元素id为key，值为value的对象\n\n\n\n(function(){\n    let rules = {\n        //不大于多少个字符\n        max:function(str,number){\n            let regStr = \"^.{0,\"+number+\"}$\",\n                reg = new RegExp(regStr);\n\n            return reg.test(str);\n        },\n        //不少于多少个字符\n        min:function(str,number){\n            let regStr = \"^.{\"+number+\",}$\",\n                reg = new RegExp(regStr);\n\n            return reg.test(str);\n        },\n        //判断非空\n        must:function(str){\n            return(str.length != 0);\n        },\n        //字符串，数字和下划线\n        str:function(str){\n            if(str.length == 0){return true;}\n\n            let reg = /^[a-zA-Z][a-zA-Z0-9_]*$/;\n            return reg.test(str);\n        },\n        //正整数\n        number:function(str){\n            if(str.length == 0){return true;}\n\n            let reg = /^\\d*$/;\n            return reg.test(str);\n        },\n        //价格  2为小数\n        price:function(str){\n            if(str.length == 0){return true;}\n\n            let reg = /^(0|[1-9][0-9]{0,9})(\\.[0-9]{1,2})?$/;\n            return reg.test(str);\n        },\n        //qq 号\n        qq:function(str){\n            if(str.length == 0){return true;}\n\n            let reg = /^[1-9]\\d{4,}$/;\n            return reg.test(str);\n        },\n        //邮箱email\n        email:function(str){\n            if(str.length == 0){return true;}\n\n            let reg = /^([0-9a-z][0-9a-z_]*[0-9a-z]|[0-9a-z])@[a-z0-9.-]+\\.[a-z]{2,4}$/i;\n            return reg.test(str);\n        },\n        //手机号码\n        phone:function(str){\n            if(str.length == 0){return true;}\n\n            let reg = /^1\\d{10}$/;\n            return reg.test(str);\n        },\n        //身份证\n        idCard: function(cid) {\n            if (cid.length == 0) {\n                return true;\n            }\n\n\n            var arrExp = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2];//加权因子\n            var arrValid = [1, 0, \"X\", 9, 8, 7, 6, 5, 4, 3, 2];//校验码\n            if(/^\\d{17}\\d|x$/i.test(cid)){\n                var sum = 0, idx;\n                for(var i = 0; i < cid.length - 1; i++){\n                    // 对前17位数字与权值乘积求和\n                    sum += parseInt(cid.substr(i, 1), 10) * arrExp[i];\n                }\n                // 计算模（固定算法）\n                idx = sum % 11;\n                // 检验第18为是否与校验码相等\n                return arrValid[idx] == cid.substr(17, 1).toUpperCase();\n            }else{\n                return false;\n            }\n\n            //var reg = /^[1-9]\\d{5}[1-9]\\d{3}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3}([0-9]|X)$/;\n            //return reg.test(str);\n        },\n        //中文\n        chinese:function(str){\n            if(str.length == 0){return true;}\n\n            let reg = /^[\\u4E00-\\u9FA5]+$/;\n            return reg.test(str);\n        },\n        //昵称\n        nickname: function(str) {\n            if (str.length == 0) {\n                return true;\n            }\n\n            var reg = /^[\\u4e00-\\u9fa5a-zA-Z0-9_]+$/;\n            return reg.test(str);\n        }\n    };\n\n\n\n\n    $.fn.checkFrom = function(callback){\n        let dom = $(this),\n            checkInput = dom.find(\"[data-rule]\"),\n            errorDom = [],\n            data = {};\n\n        checkInput.each(function(){\n            let that_rule = $(this).data(\"rule\"),\n                this_val = $.trim($(this).val()),\n                this_id = $(this).attr(\"id\");\n\n            that_rule = that_rule.split(\",\");\n\n            data[this_id] = this_val;\n            for(var i=0,l=that_rule.length;i<l;i++){\n                let this_rule = that_rule[i];\n                if(this_rule.indexOf('max:')>-1 || this_rule.indexOf('min:')>-1){\n                    this_rule = this_rule.split(\":\");\n                    let _this_rule = this_rule[0],\n                        _n = parseInt(this_rule[1]);\n\n                    if(!rules[_this_rule]){\n                        console.log(_this_rule+\"  无此正则\");\n                    }else{\n                        if(!rules[_this_rule](this_val,_n)){\n                            errorDom.push($(this));\n                        }\n                    }\n                }else{\n                    if(!rules[this_rule]){\n                        console.log(this_rule+\"  无此正则\");\n                    }else{\n                        if(!rules[this_rule](this_val)){\n                            errorDom.push($(this));\n                        }\n                    }\n                }\n            }\n        });\n\n\n        callback(errorDom,data);\n    };\n})();\n\n\n\n"]}